<!-- Tistory Blog Post Content --><!-- Copy content below into Tistory HTML Editor -->
<div class="gangnaeng-tech-blog">
  <div style="display: flex; gap: 1rem; margin: 1.5rem 0; flex-wrap: wrap">
    <a
      class="link-btn link-btn-github"
      href="https://github.com/sleepyMS/KangNaengBot-FE"
      target="_blank"
      rel="noopener noreferrer"
      >ğŸ“‚ GitHub ì €ì¥ì†Œ</a
    ><a
      class="link-btn link-btn-demo"
      href="https://kang-naeng-bot-fe.vercel.app/"
      target="_blank"
      rel="noopener noreferrer"
      >ğŸŒ ë¼ì´ë¸Œ ë°ëª¨</a
    ><a
      class="link-btn link-btn-portfolio"
      href="https://ms-mind.vercel.app/"
      target="_blank"
      rel="noopener noreferrer"
      >ğŸ’¼ í¬íŠ¸í´ë¦¬ì˜¤</a
    >
  </div>
  <blockquote data-ke-style="style2">
    <p data-ke-size="size16">
      ëŒ€í•™ AI ì±—ë´‡ ì„œë¹„ìŠ¤ ê°•ëƒ‰ë´‡ì˜ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê°œë°œí•˜ë©´ì„œ "ëŠë¦° AI ì‘ë‹µ"ì´ë¼ëŠ”
      ê·¼ë³¸ì ì¸ í•œê³„ë¥¼ í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ ë¡œ ì–´ë–»ê²Œ ê·¹ë³µí–ˆëŠ”ì§€ ê³µìœ í•©ë‹ˆë‹¤.
    </p>
  </blockquote>
  <div style="padding: 1rem">&nbsp;</div>
  <!-- ëª©ì°¨ íƒœê·¸ ë„¤ë¹„ê²Œì´ì…˜ -->
  <p
    style="
      margin: 2rem 0 0.5rem 0.25rem;
      font-weight: bold;
      color: #475569;
      font-size: 1.1rem;
    "
    data-ke-size="size16"
  >
    ğŸ“‘ ë°”ë¡œê°€ê¸°
  </p>
  <div class="toc-container">
    <a
      class="toc-tag"
      style="background: #fee2e2; color: #dc2626"
      href="#section-problem"
      >ğŸ¯ ë¬¸ì œ ì •ì˜</a
    ><a
      class="toc-tag"
      style="background: #e0e7ff; color: #4338ca"
      href="#section-architecture"
      >ğŸ—ï¸ ì•„í‚¤í…ì²˜</a
    ><a
      class="toc-tag"
      style="background: #fef3c7; color: #d97706"
      href="#section-challenges"
      >ğŸ”¥ ë„ì „ê³¼ì œ</a
    ><a
      class="toc-tag"
      style="background: #dcfce7; color: #16a34a"
      href="#section-solutions"
      >ğŸ’¡ í•´ê²° ê³¼ì •</a
    ><a
      class="toc-tag"
      style="background: #dbeafe; color: #2563eb"
      href="#section-results"
      >ğŸ“ˆ ê²°ê³¼</a
    ><a
      class="toc-tag"
      style="background: #f3e8ff; color: #7c3aed"
      href="#section-techstack"
      >ğŸ›  ê¸°ìˆ  ìŠ¤íƒ</a
    >
  </div>
  <hr data-ke-style="style1" />
  <h2 id="section-problem" data-ke-size="size26">
    ğŸ¯ ë¬¸ì œ ì •ì˜: ì™œ AI ì±—ë´‡ì€ ëŠë¦¬ê²Œ ëŠê»´ì§ˆê¹Œ?
  </h2>
  <p data-ke-size="size16">
    ê°•ë‚¨ëŒ€í•™êµ í•™ìƒë“¤ì„ ìœ„í•œ AI ì±—ë´‡ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ë©´ì„œ ì²« ë²ˆì§¸ë¡œ ë§ˆì£¼í•œ í˜„ì‹¤ì€
    <b>AI ì‘ë‹µì˜ ì§€ì—° ì‹œê°„</b>ì´ì—ˆìŠµë‹ˆë‹¤. LLM(Large Language Model) ê¸°ë°˜ ì±—ë´‡ì€
    êµ¬ì¡°ì ìœ¼ë¡œ ì‘ë‹µì— 1~5ì´ˆê°€ ì†Œìš”ë©ë‹ˆë‹¤. ì—¬ê¸°ì— ë„¤íŠ¸ì›Œí¬ í†µì‹  ì‹œê°„ê¹Œì§€
    ë”í•´ì§€ë©´, ì‚¬ìš©ìëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ í›„ ë©í•˜ë‹ˆ í™”ë©´ì„ ë°”ë¼ë³´ê²Œ ë©ë‹ˆë‹¤.
  </p>
  <p data-ke-size="size16">
    ë” ì‹¬ê°í•œ ë¬¸ì œëŠ” <b>ì‚¬ì´ë“œë°”ì—ì„œ ë‹¤ë¥¸ ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™í•  ë•Œ</b>ì˜€ìŠµë‹ˆë‹¤.
    í´ë¦­í•  ë•Œë§ˆë‹¤ ë¡œë”© ìŠ¤í”¼ë„ˆê°€ ë‚˜íƒ€ë‚˜ê³ , ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì•ˆ
    ì‚¬ìš©ìëŠ” ë¬´ì˜ë¯¸í•œ ëŒ€ê¸° ì‹œê°„ì„ ê²½í—˜í–ˆìŠµë‹ˆë‹¤.
  </p>
  <p data-ke-size="size16">
    íŠ¹íˆ <b>Google Cloud Run</b>ê³¼ ê°™ì€ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” Cold Start
    ì§€ì—°(~2-5ì´ˆ)ê¹Œì§€ ë”í•´ì ¸, ì²« ìš”ì²­ ì‹œ ì²´ê° ì§€ì—°ì´ ë”ìš± ì‹¬í•´ì§‘ë‹ˆë‹¤.
  </p>
  <blockquote data-ke-style="style2">
    <p data-ke-size="size16">
      í•µì‹¬ ì§ˆë¬¸: ì„œë²„ë¥¼ ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤ë©´, ì‚¬ìš©ìê°€ ë¹ ë¥´ë‹¤ê³  'ëŠë¼ê²Œ' í• 
      ìˆ˜ëŠ” ì—†ì„ê¹Œ?
    </p>
  </blockquote>
  <p data-ke-size="size16">ì´ ì§ˆë¬¸ì´ í”„ë¡œì íŠ¸ì˜ ê¸°ìˆ ì  ë°©í–¥ì„ ê²°ì •í–ˆìŠµë‹ˆë‹¤.</p>
  <hr data-ke-style="style1" />
  <h2 id="section-architecture" data-ke-size="size26">
    ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”
  </h2>
  <p data-ke-size="size16">
    ì‚¬ìš©ìì™€ì˜ ëª¨ë“  ìƒí˜¸ì‘ìš©ì€ ì¦‰ê°ì ì¸ ë°˜ì‘ì„ ìµœìš°ì„ ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
    <b>Zustand</b>ë¥¼ í™œìš©í•œ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ê³¼ <b>Axios ì¸í„°ì…‰í„°</b> íŒ¨í„´ì´
    ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ì•ˆì •ì ì¸ ì±„íŒ… ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.
  </p>
  [##_Image|kage@bUs2Af/dJMcagqzLVc/AAAAAAAAAAAAAAAAAAAAABdzAmHHcQcZmQMr1PP73IyrAtVc8R4WYmDa7nrNtRxh/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1769871599&amp;allow_ip=&amp;allow_referer=&amp;signature=8Bw%2F4yB5fxPy7tJzQWfqvSFWK5o%3D|CDM|1.3|{"originWidth":7219,"originHeight":930,"style":"alignCenter","width":816,"height":105,"alt":"ì‹œìŠ¤í…œ
  ì•„í‚¤í…ì²˜","caption":"ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜"}_##]
  <p data-ke-size="size16">&nbsp;</p>
  <!--  ï¸ [IMAGE_1] ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ -->
  <h3 data-ke-size="size23">í”„ë¡œì íŠ¸ êµ¬ì¡°</h3>
  <pre class="axapta"><code>src/
â”œâ”€â”€ api/                    # API í†µì‹  ê³„ì¸µ
â”‚   â”œâ”€â”€ apiClient.ts        # Axios ì¸ìŠ¤í„´ìŠ¤ + ì¸í„°ì…‰í„°
â”‚   â””â”€â”€ services/           # ë„ë©”ì¸ë³„ API ì„œë¹„ìŠ¤
â”œâ”€â”€ components/             # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ chat/               # ì±„íŒ… ê´€ë ¨
â”‚   â”œâ”€â”€ common/             # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ settings/           # ì„¤ì • ê´€ë ¨
â”œâ”€â”€ store/                  # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ useChatStore.ts     # ì±„íŒ… ìƒíƒœ (í•µì‹¬!)
â”‚   â”œâ”€â”€ useAuthStore.ts     # ì¸ì¦ ìƒíƒœ
â”‚   â””â”€â”€ useSettingsStore.ts # ì„¤ì • ìƒíƒœ
â”œâ”€â”€ pages/                  # ë¼ìš°íŠ¸ í˜ì´ì§€
â””â”€â”€ i18n/                   # ë‹¤êµ­ì–´ ë¦¬ì†ŒìŠ¤ (4ê°œ ì–¸ì–´)</code></pre>
  <hr data-ke-style="style1" />
  <h2 id="section-challenges" data-ke-size="size26">ğŸ”¥ ê¸°ìˆ ì  ë„ì „ê³¼ì œ</h2>
  <h3 data-ke-size="size23">1. ë¹„ë™ê¸° UI ë™ê¸°í™” ë¬¸ì œ</h3>
  <p data-ke-size="size16">ì „í†µì ì¸ ì±„íŒ… UI íë¦„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
  <p data-ke-size="size16">
    <code
      >[ì‚¬ìš©ì ì…ë ¥] &rarr; [API ìš”ì²­] &rarr; (ëŒ€ê¸° ğŸ˜´) &rarr; [ì‘ë‹µ ìˆ˜ì‹ ]
      &rarr; [UI ì—…ë°ì´íŠ¸]</code
    >
  </p>
  <p data-ke-size="size16">
    ì´ ë™ê¸°ì  íë¦„ì—ì„œ "ëŒ€ê¸°" êµ¬ê°„ì´ ì‚¬ìš©ì ê²½í—˜ì„ í•´ì¹©ë‹ˆë‹¤. ìŠ¤í”¼ë„ˆë‚˜ ìŠ¤ì¼ˆë ˆí†¤
    UIë¡œ ì‹œê°ì  í”¼ë“œë°±ì„ ì¤„ ìˆ˜ ìˆì§€ë§Œ, <b>ê·¼ë³¸ì ì¸ í•´ê²°ì±…ì´ ì•„ë‹™ë‹ˆë‹¤</b>.
  </p>
  <h3 data-ke-size="size23">2. ì„¸ì…˜ ì „í™˜ ì‹œ ë°˜ë³µë˜ëŠ” API í˜¸ì¶œ</h3>
  <p data-ke-size="size16">
    ì‚¬ìš©ìê°€ ì´ì „ì— ë°©ë¬¸í–ˆë˜ ì±„íŒ…ë°©ì„ ë‹¤ì‹œ í´ë¦­í•  ë•Œë„ ë§¤ë²ˆ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ëŠ”
    ê²ƒì€ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¨ìˆœ ìºì‹±ë§Œìœ¼ë¡œëŠ”
    <b>ìµœì‹  ë°ì´í„° ë™ê¸°í™” ë¬¸ì œ</b>ê°€ ë°œìƒí•©ë‹ˆë‹¤.
  </p>
  <h3 data-ke-size="size23">3. ì¼ì‹œì ì¸ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜</h3>
  <p data-ke-size="size16">
    AI ì„œë¹„ìŠ¤ íŠ¹ì„±ìƒ ì‘ë‹µì´ ë¹„ì–´ìˆê±°ë‚˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ì´ë•Œ
    ë‹¨ìˆœíˆ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ë©´ ì‚¬ìš©ìëŠ” í˜¼ë€ìŠ¤ëŸ¬ì›Œí•©ë‹ˆë‹¤.
  </p>
  <hr data-ke-style="style1" />
  <h2 id="section-solutions" data-ke-size="size26">ğŸ’¡ í•´ê²° ê³¼ì •</h2>
  <h3 data-ke-size="size23">í•´ê²°ì±… 1: Optimistic UI íŒ¨í„´</h3>
  <p data-ke-size="size16">
    <b>ë‚™ê´€ì  UI</b>ë€, ì„œë²„ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ìš”ì²­ì´ ì„±ê³µí•  ê²ƒì´ë¼
    <b>"ë‚™ê´€"</b>í•˜ì—¬ ì¦‰ì‹œ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
  </p>
  <h4 data-ke-size="size20">ğŸ“Š Optimistic UI ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h4>
  [##_Image|kage@beKeLt/dJMcaiu7y6B/AAAAAAAAAAAAAAAAAAAAAKN53PB_HxVAw0wMkpSTffTsbEx_Ls6zModCmS2xtV7w/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1769871599&amp;allow_ip=&amp;allow_referer=&amp;signature=1Dy%2FAw5n9J3RWlItBXy5DgSvH9U%3D|CDM|1.3|{"originWidth":3720,"originHeight":5090,"style":"alignCenter","width":468,"height":640,"alt":"Optimistic
  UI ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨","caption":"Optimistic UI ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨"}_##]
  <p data-ke-size="size16">&nbsp;</p>
  <!--  ï¸ [IMAGE_2] Optimistic UI ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ -->
  <h4 data-ke-size="size20">ğŸ’» ì½”ë“œ êµ¬í˜„</h4>
  <pre class="pf"><code>// useChatStore.ts - Optimistic UI ì ìš©

sendMessage: async (message: string) =&gt; {
  // 1. ë‚™ê´€ì  UI: ì‚¬ìš©ì ë©”ì‹œì§€ "ì¦‰ì‹œ" í™”ë©´ì— í‘œì‹œ
  const userMessage: MessageItem = {
    role: "user",
    content: message,
    created_at: new Date().toISOString(),
  };
  
  set((state) =&gt; ({
    messages: [...state.messages, userMessage],  // ë°”ë¡œ ë Œë”ë§!
    isSending: true,
  }));

  try {
    // 2. ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤ì œ API í˜¸ì¶œ
    const response = await chatService.sendMessage({ message });
    
    // 3. AI ì‘ë‹µ ì¶”ê°€
    set((state) =&gt; ({
      messages: [...state.messages, {
        role: "assistant",
        content: response.text,
      }],
    }));
  } catch (error) {
    // 4. ì‹¤íŒ¨ ì‹œ ë¡¤ë°±: ë°©ê¸ˆ ì¶”ê°€í•œ ë©”ì‹œì§€ ì œê±°
    set((state) =&gt; ({
      messages: state.messages.slice(0, -1),
      error: "ë©”ì‹œì§€ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
    }));
  }
}</code></pre>
  <div class="highlight-box">
    <h4 data-ke-size="size20">ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸</h4>
    <p data-ke-size="size16">
      ì‚¬ìš©ì ë©”ì‹œì§€ëŠ” API í˜¸ì¶œ <b>ì´ì „ì—</b> í™”ë©´ì— í‘œì‹œë©ë‹ˆë‹¤. ì‹¤íŒ¨í•  ê²½ìš°
      <code>slice(0, -1)</code>ë¡œ ë§ˆì§€ë§‰ ë©”ì‹œì§€ë¥¼ ì œê±°í•˜ì—¬ ë¡¤ë°±í•©ë‹ˆë‹¤. ì´
      íŒ¨í„´ìœ¼ë¡œ <b>ì²´ê° ì‘ë‹µ ì‹œê°„ì„ 0msì— ê°€ê¹ê²Œ</b> ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
    </p>
  </div>
  <hr data-ke-style="style1" />
  <h3 data-ke-size="size23">í•´ê²°ì±… 2: SWR (Stale-While-Revalidate) íŒ¨í„´</h3>
  <p data-ke-size="size16">
    ë‹¨ìˆœ ìºì‹±ì˜ ë™ê¸°í™” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <b>SWR ì „ëµ</b>ì„ ì§ì ‘ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
    ì €ì¥ëœ ë°ì´í„°(Stale)ê°€ ìˆë‹¤ë©´ ì¦‰ì‹œ ë³´ì—¬ì£¼ê³ , ë°±ê·¸ë¼ìš´ë“œì—ì„œ
    ì¬ê²€ì¦(Revalidate)í•˜ì—¬ ìµœì‹  ìƒíƒœë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.
  </p>
  <h4 data-ke-size="size20">ğŸ“Š SWR ë°ì´í„° íë¦„</h4>
  [##_Image|kage@dFjQ71/dJMcai2WPFv/AAAAAAAAAAAAAAAAAAAAAF3VfgyMAj9-D5CPVQJNjJqj35IugpzSxlfsV9vlawRa/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1769871599&amp;allow_ip=&amp;allow_referer=&amp;signature=uDakVZxtT0w%2FCeMi8Lz4ZN8JTzU%3D|CDM|1.3|{"originWidth":5410,"originHeight":4170,"style":"alignCenter","width":758,"height":584,"alt":"SWR
  ë°ì´í„° íë¦„ë„","caption":"SWR ë°ì´í„° íë¦„ë„"}_##]<!-- ï¸ [IMAGE_3] í”„ë¦¬í˜ì¹­ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ -->
  <h4 data-ke-size="size20">ğŸ’» ì½”ë“œ êµ¬í˜„</h4>
  <pre class="typescript"><code>// useChatStore.ts - SWR êµ¬í˜„
selectSession: async (sessionId: string) =&gt; {
  // 1. (Fast) ìºì‹œëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ì¦‰ì‹œ ë Œë”ë§
  if (messageCache.has(sessionId)) {
    set({ messages: messageCache.get(sessionId) });
  }

  // 2. (Sync) ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìµœì‹  ë°ì´í„° íŒ¨ì¹­
  try {
    const response = await sessionsService.getSessionMessages(sessionId);
    
    // 3. ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆë‹¤ë©´ ì¡°ìš©íˆ ì—…ë°ì´íŠ¸
    if (JSON.stringify(response.messages) !== JSON.stringify(get().messages)) {
      set({ messages: response.messages });
      messageCache.set(sessionId, response.messages); // ìºì‹œ ê°±ì‹ 
    }
  } catch (error) {
    console.error("Background sync failed", error);
  }
}</code></pre>
  <div class="highlight-box">
    <h4 data-ke-size="size20">ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸</h4>
    <p data-ke-size="size16">
      ì‚¬ìš©ìëŠ” <b>ìºì‹œëœ í™”ë©´ì„ ì¦‰ì‹œ(0ms)</b> ë³´ê²Œ ë˜ë©°, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´
      ì™„ë£Œë˜ë©´ <b>ìµœì‹  ë°ì´í„°ë¡œ ì€ë°€í•˜ê²Œ êµì²´</b>ë©ë‹ˆë‹¤. ì—¬ê¸°ì—
      <b>í˜¸ë²„ í”„ë¦¬í˜ì¹­</b>ì„ ë”í•´, í´ë¦­í•˜ê¸°ë„ ì „ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ëŠ” ìˆœê°„ ë¯¸ë¦¬
      1ë‹¨ê³„(Stale) ë°ì´í„°ë¥¼ ì¤€ë¹„í•´ë‘ëŠ” ì´ì¤‘ ê°€ì† ì „ëµì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
    </p>
  </div>
  <hr data-ke-style="style1" />
  <h3 data-ke-size="size23">í•´ê²°ì±… 3: íˆ¬ëª…í•œ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜</h3>
  <p data-ke-size="size16">
    AI ì‘ë‹µì´ ë¹ˆ ê°’ìœ¼ë¡œ ì˜¬ ê²½ìš°, ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ë¥¼ ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹ 
    <b>ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìë™ìœ¼ë¡œ ì¬ì‹œë„</b>í•©ë‹ˆë‹¤.
  </p>
  <h4 data-ke-size="size20">ğŸ“Š ì¬ì‹œë„ ë¡œì§ í”Œë¡œìš°</h4>
  [##_Image|kage@yfff2/dJMcaajAStg/AAAAAAAAAAAAAAAAAAAAAPxXCImnYM4SwYVJAYwg2brv7M46kR8mx-FyyqO_CBoh/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1769871599&amp;allow_ip=&amp;allow_referer=&amp;signature=deTWaZ%2FcbxT9ScSqDCGdHb%2BWtZE%3D|CDM|1.3|{"originWidth":2034,"originHeight":4064,"style":"alignCenter","width":298,"height":595,"alt":"ì¬ì‹œë„
  ë¡œì§ ë‹¤ì´ì–´ê·¸ë¨","caption":"ì¬ì‹œë„ ë¡œì§ ë‹¤ì´ì–´ê·¸ë¨"}_##]
  <h4 data-ke-size="size20">
    <span
      style="
        font-size: 1.1rem;
        background-color: #fafafa;
        color: #333333;
        letter-spacing: 0px;
      "
      >&nbsp;</span
    >
  </h4>
  <h4 data-ke-size="size20">ğŸ’» ì½”ë“œ êµ¬í˜„</h4>
  <pre class="javascript"><code>const MAX_RETRIES = 5;
const RETRY_DELAY = 500; // ms

for (let attempt = 1; attempt &lt; MAX_RETRIES &amp;&amp; !responseText?.trim(); attempt++) {
  // ì¬ì‹œë„ ì „ ëŒ€ê¸° (ì„œë²„ ë¶€í•˜ ë°©ì§€)
  await new Promise(resolve =&gt; setTimeout(resolve, RETRY_DELAY));
  
  const retryResponse = await chatService.sendMessage({ message });
  responseText = retryResponse.text;
}

// 5ë²ˆ ëª¨ë‘ ì‹¤íŒ¨í•˜ë©´ ì¹œì ˆí•œ ì•ˆë‚´ ë©”ì‹œì§€ë¡œ ëŒ€ì²´
if (!responseText?.trim()) {
  responseText = "ì¼ì‹œì ì¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì§ˆë¬¸í•´ì£¼ì„¸ìš”.";
}</code></pre>
  <p data-ke-size="size16">
    ì‚¬ìš©ìëŠ” ì¬ì‹œë„ê°€ ì¼ì–´ë‚˜ê³  ìˆëŠ”ì§€ <b>ì „í˜€ ì¸ì§€í•˜ì§€ ëª»í•©ë‹ˆë‹¤</b>. ë‹¨ì§€ "AIê°€
    ìƒê° ì¤‘"ì´ë¼ê³  ëŠë‚„ ë¿ì…ë‹ˆë‹¤. ë§Œì•½, 5ë²ˆ ëª¨ë‘ ì‹¤íŒ¨ì‹œì—ëŠ” ì•ˆë‚´ ë©”ì‹œì§€ë¡œ
    ëŒ€ì²´í•©ë‹ˆë‹¤. ì´ê²ƒì´ <b>íˆ¬ëª…í•œ ë³µì›ë ¥(Transparent Resilience)</b> ì…ë‹ˆë‹¤.
  </p>
  <hr data-ke-style="style1" />
  <h3 data-ke-size="size23">í•´ê²°ì±… 4: Axios ì¸í„°ì…‰í„° ì¤‘ì•™í™”</h3>
  <p data-ke-size="size16">
    ì¸ì¦ í† í° ë§Œë£Œ ì²˜ë¦¬ë¥¼ ê°œë³„ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ <b>API í´ë¼ì´ì–¸íŠ¸ ë ˆë²¨</b>ì—ì„œ
    ì¼ê´„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
  </p>
  <h4 data-ke-size="size20">ğŸ“Š API ìš”ì²­ íë¦„</h4>
  [##_Image|kage@nmSpa/dJMcac2QZvi/AAAAAAAAAAAAAAAAAAAAALzexOYgIEuIKfURSCiHvWcecbLjyw2xkbyA_kVrBBV0/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&amp;expires=1769871599&amp;allow_ip=&amp;allow_referer=&amp;signature=TfCWAjcsWufZeW9JRdMB1bD6Brs%3D|CDM|1.3|{"originWidth":8191,"originHeight":3091,"style":"alignCenter","alt":"Axios
  ì¸í„°ì…‰í„° íë¦„ë„","caption":"Axios ì¸í„°ì…‰í„° íë¦„ë„","filename":"Axios ì¸í„°ì…‰í„°
  íë¦„ë„.png"}_##]
  <p data-ke-size="size16">&nbsp;</p>
  <!--  ï¸ [IMAGE_5] Axios ì¸í„°ì…‰í„° íë¦„ë„ -->
  <h4 data-ke-size="size20">ğŸ’» ì½”ë“œ êµ¬í˜„</h4>
  <pre
    class="typescript"
  ><code>// apiClient.ts - ì‘ë‹µ ì¸í„°ì…‰í„° &amp; í† í° ê°±ì‹  ë¡œì§

// í† í° ê°±ì‹  ì¤‘ë³µ ìš”ì²­ ë°©ì§€ë¥¼ ìœ„í•œ í”Œë˜ê·¸
let isRefreshing = false;
let refreshSubscribers: ((token: string) =&gt; void)[] = [];

// ê°±ì‹  ì™„ë£Œ í›„ ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¬ì‹œë„
const onRefreshed = (token: string) =&gt; {
  refreshSubscribers.forEach((callback) =&gt; callback(token));
  refreshSubscribers = [];
};

apiClient.interceptors.response.use(
  (response) =&gt; response,
  async (error: AxiosError) =&gt; {
    const originalRequest = error.config;

    // 401 ì—ëŸ¬ ë°œìƒ ì‹œ í† í° ê°±ì‹  ì‹œë„
    if (error.response?.status === 401 &amp;&amp; !originalRequest._retry) {
      if (isRefreshing) {
        // ì´ë¯¸ ê°±ì‹  ì¤‘ì´ë¼ë©´ ëŒ€ê¸°ì—´ì— ì¶”ê°€
        return new Promise((resolve) =&gt; {
          refreshSubscribers.push((token) =&gt; {
            originalRequest.headers.Authorization = `Bearer ${token}`;
            resolve(apiClient(originalRequest));
          });
        });
      }

      originalRequest._retry = true;
      isRefreshing = true;

      try {
        // ë¦¬í”„ë ˆì‹œ í† í°ìœ¼ë¡œ ìƒˆ ì—‘ì„¸ìŠ¤ í† í° ë°œê¸‰
        const { data } = await apiClient.post("/auth/refresh");
        const newToken = data.access_token;
        
        setAccessToken(newToken);
        isRefreshing = false;
        onRefreshed(newToken); // ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ë“¤ ì‹¤í–‰

        // ì‹¤íŒ¨í–ˆë˜ ì›ë˜ ìš”ì²­ ì¬ì‹œë„
        originalRequest.headers.Authorization = `Bearer ${newToken}`;
        return apiClient(originalRequest);
      } catch (refreshError) {
        // ê°±ì‹  ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì•„ì›ƒ
        removeAccessToken();
        window.location.href = "/login";
        return Promise.reject(refreshError);
      }
    }
    return Promise.reject(error);
  }
);</code></pre>
  <p data-ke-size="size16">
    ë‹¨ìˆœíˆ ë¡œê·¸ì•„ì›ƒì‹œí‚¤ëŠ” ë°©ì‹ì„ ë„˜ì–´,
    <b>ì‚¬ìš©ì ê°œì… ì—†ì´ í† í°ì„ ìë™ìœ¼ë¡œ ê°±ì‹ </b>í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ê°±ì‹ 
    ìš”ì²­ì´ ë™ì‹œì— ì—¬ëŸ¬ ë²ˆ ë°œìƒí•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´
    <code>isRefreshing</code> í”Œë˜ê·¸ì™€ <code>Subscribers</code> íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬
    í•œ ë²ˆì˜ ê°±ì‹ ìœ¼ë¡œ ëª¨ë“  ë³´ë¥˜ëœ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë„ë¡ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.
  </p>
  <hr data-ke-style="style1" />
  <h2 id="section-results" data-ke-size="size26">ğŸ“ˆ ê²°ê³¼ ë° í•™ìŠµ</h2>
  <h3 data-ke-size="size23">ì •ëŸ‰ì  ê°œì„ </h3>
  <table data-ke-align="alignLeft">
    <thead>
      <tr>
        <th>&nbsp;í•­ëª©</th>
        <th>&nbsp;ê°œì„  ì „</th>
        <th>&nbsp;ê°œì„  í›„</th>
        <th>&nbsp;ì ìš© ê¸°ìˆ </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>&nbsp;ë©”ì‹œì§€ ì „ì†¡ ì²´ê° ì‹œê°„</td>
        <td>&nbsp;1-2ì´ˆ</td>
        <td><b>&nbsp;0ms âš¡</b></td>
        <td>&nbsp;Optimistic UI</td>
      </tr>
      <tr>
        <td>&nbsp;ì„¸ì…˜ ì „í™˜ ë¡œë”©</td>
        <td>&nbsp;500ms~1s</td>
        <td><b>&nbsp;ì¦‰ì‹œ âš¡</b></td>
        <td>&nbsp;Prefetching + Caching</td>
      </tr>
      <tr>
        <td>&nbsp;ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë…¸ì¶œ</td>
        <td>&nbsp;ë¹ˆë²ˆí•¨</td>
        <td><b>&nbsp;ëŒ€í­ ê°ì†Œ âœ…</b></td>
        <td>&nbsp;Retry Logic</td>
      </tr>
    </tbody>
  </table>
  <h3 data-ke-size="size23">ë°°ìš´ êµí›ˆ</h3>
  <ol style="list-style-type: decimal" data-ke-list-type="decimal">
    <li>
      <b>ì²´ê° ì†ë„ &ne; ì‹¤ì œ ì†ë„</b>: ì‚¬ìš©ìê°€ ëŠë¼ëŠ” ì†ë„ë¥¼ ê°œì„ í•˜ëŠ” ê²ƒì´ UXì˜
      í•µì‹¬ì…ë‹ˆë‹¤.
    </li>
    <li>
      <b>ë‚™ê´€ì  ì‚¬ê³ ì˜ í˜</b>: "ì„±ê³µí•  ê²ƒì´ë‹¤"ë¼ëŠ” ê°€ì • í•˜ì— UIë¥¼ ë¨¼ì €
      ì—…ë°ì´íŠ¸í•˜ê³ , ì‹¤íŒ¨ ì‹œ ë¡¤ë°±í•˜ëŠ” íŒ¨í„´ì€ ë‹¤ì–‘í•œ ìƒí™©ì— ì ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
    </li>
    <li>
      <b>ì¤‘ì•™í™”ëœ ì—ëŸ¬ ì²˜ë¦¬</b>: API í´ë¼ì´ì–¸íŠ¸ ë ˆë²¨ì—ì„œ ê³µí†µ ë¡œì§ì„ ì²˜ë¦¬í•˜ë©´
      ì»´í¬ë„ŒíŠ¸ ì½”ë“œê°€ ê¹”ë”í•´ì§‘ë‹ˆë‹¤.
    </li>
    <li>
      <b>Map/Set ìë£Œêµ¬ì¡° í™œìš©</b>: ì¤‘ë³µ ìš”ì²­ ë°©ì§€, ìºì‹± ë“±ì—ì„œ JavaScriptì˜
      Mapì€ ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤.
    </li>
  </ol>
  <h3 data-ke-size="size23">ì¶”í›„ ê°œì„  ë°©í–¥</h3>
  <ul style="list-style-type: disc" data-ke-list-type="disc">
    <li><b>Server-Sent Events(SSE)</b> ë„ì…ìœ¼ë¡œ AI ì‘ë‹µì˜ ìŠ¤íŠ¸ë¦¬ë° í‘œì‹œ</li>
    <li><b>Service Worker</b>ë¥¼ í™œìš©í•œ ì˜¤í”„ë¼ì¸ ì§€ì›</li>
    <li><b>React Query</b> ë„ì…ìœ¼ë¡œ ë” ì •êµí•œ ìºì‹œ ê´€ë¦¬</li>
  </ul>
  <hr data-ke-style="style1" />
  <h2 id="section-techstack" data-ke-size="size26">ğŸ›  ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½</h2>
  <table data-ke-align="alignLeft">
    <thead>
      <tr>
        <th>&nbsp;ì˜ì—­</th>
        <th>&nbsp;ê¸°ìˆ </th>
        <th>&nbsp;ì„ íƒ ì´ìœ </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>&nbsp;Framework</td>
        <td>&nbsp;React 19 + TypeScript</td>
        <td>&nbsp;íƒ€ì… ì•ˆì •ì„±ê³¼ ìµœì‹  ê¸°ëŠ¥ í™œìš©</td>
      </tr>
      <tr>
        <td>&nbsp;ìƒíƒœ ê´€ë¦¬</td>
        <td>&nbsp;Zustand</td>
        <td>&nbsp;ê°€ë²¼ìš´ ë²ˆë“¤ í¬ê¸°, ì§ê´€ì  API</td>
      </tr>
      <tr>
        <td>&nbsp;HTTP í´ë¼ì´ì–¸íŠ¸</td>
        <td>&nbsp;Axios</td>
        <td>&nbsp;ì¸í„°ì…‰í„°ë¥¼ í†µí•œ ì¤‘ì•™í™”ëœ ì—ëŸ¬ ì²˜ë¦¬</td>
      </tr>
      <tr>
        <td>&nbsp;ìŠ¤íƒ€ì¼ë§</td>
        <td>&nbsp;TailwindCSS</td>
        <td>&nbsp;JIT ì»´íŒŒì¼ë¡œ ì‘ì€ CSS ë²ˆë“¤</td>
      </tr>
      <tr>
        <td>&nbsp;ë¹Œë“œ ë„êµ¬</td>
        <td>&nbsp;Vite</td>
        <td>&nbsp;ë¹ ë¥¸ HMR, ES Modules ê¸°ë°˜</td>
      </tr>
      <tr>
        <td>&nbsp;ë‹¤êµ­ì–´</td>
        <td>&nbsp;i18next</td>
        <td>&nbsp;KO, EN, JA, ZH 4ê°œ ì–¸ì–´ ì§€ì›</td>
      </tr>
    </tbody>
  </table>
  <hr data-ke-style="style1" />
  <p data-ke-size="size16">
    <i
      >ì´ ê¸€ì´ ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê³ ë¯¼í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¶„ë“¤ê»˜ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´
      í•©ë‹ˆë‹¤.</i
    >
  </p>
  <p style="color: #333333; text-align: start" data-ke-size="size16">
    <b>ğŸ“‚ í”„ë¡œì íŠ¸ ì €ì¥ì†Œ</b>:<span>
      <a
        style="color: #2563eb"
        title="https://github.com/sleepyMS/KangNaengBot-FE"
        href="https://github.com/sleepyMS/KangNaengBot-FE"
        >KangNaengBot-FE</a
      ></span
    >
  </p>
  <p style="color: #333333; text-align: start" data-ke-size="size16">
    <b>ğŸŒ ë°°í¬ URL</b>:
    <a
      title="https://kang-naeng-bot-fe.vercel.app/"
      href="https://kang-naeng-bot-fe.vercel.app/"
      target="_blank"
      rel="noopener noreferrer"
      >KangNaengBot</a
    >
  </p>
</div>
<hr
  contenteditable="false"
  data-ke-type="horizontalRule"
  data-ke-style="style5"
/>
<p style="color: #333333; text-align: start" data-ke-size="size16">
  <b>â—† í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ê¸€</b>
</p>
<ul style="list-style-type: disc" data-ke-list-type="disc">
  <li>
    <span style="background-color: #e6f5ff; color: #006dd7"
      ><span style="background-color: #e6f5ff; color: #006dd7"
        ><b
          ><a
            href="https://me-in-journey.tistory.com/entry/React-%EC%9E%90%EC%97%B0%EC%96%B4-%EA%B8%B0%EB%B0%98-%EC%8B%9C%EA%B0%84%ED%91%9C-%EC%9E%90%EB%8F%99-%EC%83%9D%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%B5%9C%EC%A0%81%ED%99%94-%EC%97%AC%EC%A0%95"
            >[React] ìì—°ì–´ ê¸°ë°˜ ì‹œê°„í‘œ ìë™ ìƒì„±ì„ ìœ„í•œ í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”
            ì—¬ì •</a
          ></b
        ></span
      ></span
    ><span style="background-color: #e6f5ff; color: #006dd7"><b></b></span>
  </li>
</ul>
<div>
  <style>
    .gangnaeng-tech-blog {
      font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui,
        Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo",
        "Malgun Gothic", sans-serif;
      line-height: 1.75;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px 0;
    }

    .gangnaeng-tech-blog h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      color: #1a1a1a;
      letter-spacing: -0.02em;
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 1rem;
    }

    .gangnaeng-tech-blog h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-top: 3rem;
      margin-bottom: 1rem;
      color: #2563eb;
    }

    .gangnaeng-tech-blog h3 {
      font-size: 1.4rem;
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      color: #1f2937;
    }

    .gangnaeng-tech-blog h4 {
      font-size: 1.2rem;
      font-weight: 600;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      color: #374151;
    }

    .gangnaeng-tech-blog p {
      margin-bottom: 1.25rem;
      font-size: 1.1rem;
      word-break: keep-all;
    }

    .gangnaeng-tech-blog blockquote {
      background-color: #f3f4f6;
      border-left: 5px solid #2563eb;
      margin: 1.5rem 0;
      padding: 1rem 1.5rem;
      border-radius: 0 8px 8px 0;
    }

    .gangnaeng-tech-blog blockquote p {
      margin: 0;
      font-weight: 500;
      color: #4b5563;
    }

    .gangnaeng-tech-blog strong {
      color: #2563eb;
      background: linear-gradient(
        120deg,
        rgba(37, 99, 235, 0.1) 0%,
        rgba(37, 99, 235, 0.1) 100%
      );
      padding: 0 4px;
      border-radius: 3px;
    }

    .gangnaeng-tech-blog pre {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      margin: 1.5rem 0;
      font-family: "Fira Code", Consolas, Monaco, monospace;
      font-size: 0.95rem;
      line-height: 1.5;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .gangnaeng-tech-blog code {
      font-family: "Fira Code", Consolas, Monaco, monospace;
    }

    .gangnaeng-tech-blog p code,
    .gangnaeng-tech-blog li code {
      background-color: #eff6ff;
      color: #2563eb;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      border: 1px solid #dbeafe;
    }

    .gangnaeng-tech-blog ul,
    .gangnaeng-tech-blog ol {
      margin-bottom: 1.5rem;
      padding-left: 1.5rem;
    }

    .gangnaeng-tech-blog li {
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .gangnaeng-tech-blog table {
      width: 100%;
      border-collapse: collapse;
      margin: 2rem 0;
      font-size: 1rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    }

    .gangnaeng-tech-blog th {
      background-color: #f8fafc;
      font-weight: 600;
      color: #1e293b;
      text-align: left;
      padding: 1rem;
      border-bottom: 2px solid #e2e8f0;
    }

    .gangnaeng-tech-blog td {
      padding: 1rem;
      border-bottom: 1px solid #e2e8f0;
      color: #334155;
    }

    .gangnaeng-tech-blog hr {
      border: 0;
      height: 1px;
      background: linear-gradient(to right, transparent, #e5e7eb, transparent);
      margin: 3rem 0;
    }

    .gangnaeng-tech-blog .diagram-container {
      display: flex;
      justify-content: center;
      margin: 2rem 0;
      background: #fafafa;
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
    }

    .gangnaeng-tech-blog .diagram-container img {
      max-width: 100%;
      height: auto;
    }

    .gangnaeng-tech-blog a {
      color: #2563eb;
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: border-color 0.2s;
    }

    .gangnaeng-tech-blog a:hover {
      border-bottom-color: #2563eb;
    }

    .gangnaeng-tech-blog .highlight-box {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      border: 1px solid #bfdbfe;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 2rem 0;
    }

    .gangnaeng-tech-blog .highlight-box h4 {
      margin-top: 0;
      color: #1d4ed8;
    }

    .gangnaeng-tech-blog .highlight-box p {
      margin-bottom: 0;
    }
  </style>
</div>
<div>
  <style>
    .link-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.25rem;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      border: none;
      transition: all 0.2s ease;
      transform: translateY(0);
    }
    .link-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.25);
      filter: brightness(1.1);
    }
    .link-btn-github {
      background: #1f2937;
      color: white !important;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
    }
    .link-btn-demo {
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      color: white !important;
      box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
    }
    .link-btn-portfolio {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      color: white !important;
      box-shadow: 0 4px 6px -1px rgba(139, 92, 246, 0.3);
    }
    .toc-tag {
      display: inline-block;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.9rem;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .toc-tag:hover {
      transform: scale(1.05);
      filter: brightness(0.95);
    }
    .toc-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1.5rem 0;
      padding: 1rem;
      background: rgba(248, 250, 252, 0.95);
      backdrop-filter: blur(8px);
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      align-items: center;
      position: sticky;
      top: 20px;
      z-index: 100;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    h2[id^="section-"] {
      scroll-margin-top: 100px;
    }
  </style>
</div>
